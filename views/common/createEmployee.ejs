<main class="create-employee-container">
    <h1>Create New Employee</h1>
    <form action="/employee/create" method="POST">
        <div class="form-group">
            <label for="roleSelect">Assign Role:</label>
            <select id="roleSelect" name="roleSelect">
                <option value="">Select a role</option>
                <option value="manager">Manager</option>
                <option value="employee">Employee</option>
            </select>
        </div>
        <div class="form-group">
            <label for="classSelect">Assign Class:</label>
            <select id="classSelect" name="classSelect" onchange="showSubjects(this.value)">
                <option value="">Select a class</option>
                <option value="class1">Class 1</option>
                <option value="class2">Class 2</option>
            </select>
        </div>
        <div class="form-group" id="subjectContainer" style="display: none;">
            <label>Select Subjects:</label>
            <div class="checkbox-group" id="subjectCheckboxes">
                <!-- Subject checkboxes will be populated here -->
            </div>
        </div>
        <div class="form-group">
            <label for="firstName">First Name:</label>
            <input type="text" id="firstName" name="firstName" required>
        </div>
        <div class="form-group">
            <label for="lastName">Last Name:</label>
            <input type="text" id="lastName" name="lastName" required>
        </div>
        <div class="form-group">
            <label for="phone">Phone:</label>
            <input type="tel" id="phone" name="phone">
        </div>
        <div class="form-group">
            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>
        </div>
        <div class="form-group">
            <label for="password">Password:</label>
            <input type="password" id="password" name="password" required>
        </div>
        <button type="submit">Create Employee</button>
    </form>
</main>

<script>
const subjectsByClass = {
    class1: ['Math', 'Science', 'History'],
    class2: ['English', 'Geography', 'Biology']
};

function showSubjects(classSelected) {
    const subjectContainer = document.getElementById('subjectContainer');
    const subjectCheckboxes = document.getElementById('subjectCheckboxes');
    subjectCheckboxes.innerHTML = ''; // Clear previous subjects

    if (classSelected && subjectsByClass[classSelected]) {
        const allLabel = document.createElement('label');
        const allCheckbox = document.createElement('input');
        allCheckbox.type = 'checkbox';
        allCheckbox.name = 'subjects';
        allCheckbox.value = 'selectAll';
        allCheckbox.onclick = toggleAllCheckboxes;
        allLabel.appendChild(allCheckbox);
        allLabel.append(' Select All');
        subjectCheckboxes.appendChild(allLabel);

        const noneLabel = document.createElement('label');
        const noneCheckbox = document.createElement('input');
        noneCheckbox.type = 'checkbox';
        noneCheckbox.name = 'subjects';
        noneCheckbox.value = 'none';
        noneCheckbox.onclick = toggleNoneCheckboxes;
        noneLabel.appendChild(noneCheckbox);
        noneLabel.append(' None');
        subjectCheckboxes.appendChild(noneLabel);

        subjectsByClass[classSelected].forEach(subject => {
            const label = document.createElement('label');
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.name = 'subjects';
            checkbox.value = subject.toLowerCase();
            label.appendChild(checkbox);
            label.append(' ' + subject);
            subjectCheckboxes.appendChild(label);
        });
        subjectContainer.style.display = 'block';
    } else {
        subjectContainer.style.display = 'none';
    }
}

function toggleAllCheckboxes() {
    const checkboxes = document.querySelectorAll('#subjectCheckboxes input[type="checkbox"]');
    const allSelected = document.querySelector('input[value="selectAll"]').checked;
    checkboxes.forEach(checkbox => {
        if (checkbox.value !== 'none') checkbox.checked = allSelected;
    });
    document.querySelector('input[value="none"]').checked = !allSelected;
}

function toggleNoneCheckboxes() {
    const checkboxes = document.querySelectorAll('#subjectCheckboxes input[type="checkbox"]');
    checkboxes.forEach(checkbox => {
        checkbox.checked = false;
    });
    document.querySelector('input[value="none"]').checked = true;
}
</script>
